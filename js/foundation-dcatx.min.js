/*
 * Foundation Responsive Library 4.0.0
 * http://foundation.zurb.com
 * Copyright 2013, ZURB
 * Free to use under the MIT license.
 * http://www.opensource.org/licenses/mit-license.php
*//*jslint unparam: true, browser: true, indent: 2 */(function(){Array.prototype.filter||(Array.prototype.filter=function(a){"use strict";if(this==null)throw new TypeError;var b=Object(this),c=b.length>>>0;if(typeof a!="function")try{throw new TypeError}catch(d){return}var e=[],f=arguments[1];for(var g=0;g<c;g++)if(g in b){var h=b[g];a&&a.call(f,h,g,b)&&e.push(h)}return e},Function.prototype.bind||(Function.prototype.bind=function(a){if(typeof this!="function")throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e})),$.fn.stop=$.fn.stop||function(){return this}})(),function(a,b,c){"use strict",a.Foundation={name:"Foundation",version:"4.0.0",cache:{},init:function(a,b,c,d,e,f){var g,h=[a,c,d,e],i=[],f=f||!1;f&&(this.nc=f),this.scope=a||this.scope;if(b&&typeof b=="string"){if(/off/i.test(b))return this.off();g=b.split(" ");if(g.length>0)for(var j=g.length-1;j>=0;j--)i.push(this.init_lib(g[j],h))}else for(var k in this.libs)i.push(this.init_lib(k,h));return typeof b=="function"&&h.unshift(b),this.response_obj(i,h)},response_obj:function(a,b){for(var c in b)if(typeof b[c]=="function")return b[c]({errors:a.filter(function(a){if(typeof a=="string")return a})});return a},init_lib:function(a,b){return this.trap(function(){if(this.libs.hasOwnProperty(a))return this.patch(this.libs[a]),this.libs[a].init.apply(this.libs[a],b)}.bind(this),a)},trap:function(a,b){if(!this.nc)try{return a()}catch(c){return this.error({name:b,message:"could not be initialized",more:c.name+" "+c.message})}return a()},patch:function(a){this.fix_outer(a)},inherit:function(a,b){var c=b.split(" ");for(var d=c.length-1;d>=0;d--)this.lib_methods.hasOwnProperty(c[d])&&(this.libs[a.name][c[d]]=this.lib_methods[c[d]])},libs:{},lib_methods:{set_data:function(a,b){var c=this.name+ +(new Date);Foundation.cache[c]=b,a.attr("data-"+this.name+"-id",c)},get_data:function(a){return Foundation.cache[a.attr("data-"+this.name+"-id")]},remove_data:function(a){a?(delete Foundation.cache[a.attr("data-"+this.name+"-id")],a.attr("data-"+this.name+"-id","")):$("[data-"+this.name+"-id]").each(function(){delete Foundation.cache[$(this).attr("data-"+this.name+"-id")],$(this).attr("data-"+this.name+"-id","")})},throttle:function(a,b){var c=null;return function(){var d=this,e=arguments;clearTimeout(c),c=setTimeout(function(){a.apply(d,e)},b)}},data_options:function(a){function g(a){return typeof a=="string"?$.trim(a):a}var b={},c,d,e=(a.attr("data-options")||":").split(";"),f=e.length;for(c=f-1;c>=0;c--)d=e[c].split(":"),/true/i.test(d[1])&&(d[1]=!0),/false/i.test(d[1])&&(d[1]=!1),d.length===2&&(b[g(d[0])]=g(d[1]));return b},delay:function(a,b){return setTimeout(a,b)},scrollTo:function(b,c,d){if(d<0)return;var e=c-$(a).scrollTop(),f=e/d*10;this.scrollToTimerCache=setTimeout(function(){isNaN(parseInt(f,10))||(a.scrollTo(0,$(a).scrollTop()+f),this.scrollTo(b,c,d-10))}.bind(this),10)},scrollLeft:function(a){if(!a.length)return;return"scrollLeft"in a[0]?a[0].scrollLeft:a[0].pageXOffset},empty:function(a){if(a.length&&a.length>0)return!1;if(a.length&&a.length===0)return!0;for(var b in a)if(hasOwnProperty.call(a,b))return!1;return!0}},fix_outer:function(a){a.outerHeight=function(a,b){return typeof Zepto=="function"?a.height():typeof b!="undefined"?a.outerHeight(b):a.outerHeight()},a.outerWidth=function(a){return typeof Zepto=="function"?a.width():typeof bool!="undefined"?a.outerWidth(bool):a.outerWidth()}},error:function(a){return a.name+" "+a.message+"; "+a.more},off:function(){return $(this.scope).off(".fndtn"),$(a).off(".fndtn"),!0},zj:function(){try{return Zepto}catch(a){return jQuery}}()},$.fn.foundation=function(){var a=Array.prototype.slice.call(arguments,0);return this.each(function(){return Foundation.init.apply(Foundation,[this].concat(a)),this})}}(this,this.document),function(a,b,c,d){"use strict",Foundation.libs.clearing={name:"clearing",version:"4.0.0",settings:{templates:{viewing:'<a href="#" class="clearing-close">&times;</a><div class="visible-img" style="display: none"><img src="//:0"><p class="clearing-caption"></p><a href="#" class="clearing-main-left"><span></span></a><a href="#" class="clearing-main-right"><span></span></a></div>'},close_selectors:".clearing-close",init:!1,locked:!1},init:function(b,c,d){return this.scope=this.scope||b,Foundation.inherit(this,"set_data get_data remove_data throttle"),typeof c=="object"&&(d=a.extend(!0,this.settings,c)),typeof c!="string"?(a(this.scope).find("ul[data-clearing]").each(function(){var b=Foundation.libs.clearing,c=a(this),d=d||{},e=b.get_data(c);e||(d.$parent=c.parent(),b.set_data(c,a.extend(!0,b.settings,d)),b.assemble(c.find("li")),b.settings.init||b.events().swipe_events())}),this.settings.init):this[c].call(this,d)},events:function(){var c=this;return a(this.scope).on("click.fndtn.clearing","ul[data-clearing] li",function(b,d,e){var d=d||a(this),e=e||d,f=c.get_data(d.parent());b.preventDefault(),f||c.init(),c.open(a(b.target),d,e),c.update_paddles(e)}).on("click.fndtn.clearing",".clearing-main-right",function(a){this.nav(a,"next")}.bind(this)).on("click.fndtn.clearing",".clearing-main-left",function(a){this.nav(a,"prev")}.bind(this)).on("click.fndtn.clearing",this.settings.close_selectors,function(a){Foundation.libs.clearing.close(a,this)}).on("keydown.fndtn.clearing",function(a){this.keydown(a)}.bind(this)),a(b).on("resize.fndtn.clearing",function(a){this.resize()}.bind(this)),this.settings.init=!0,this},swipe_events:function(){var b=this;a(this.scope).on("touchstart.fndtn.clearing",".visible-img",function(b){var c={start_page_x:b.touches[0].pageX,start_page_y:b.touches[0].pageY,start_time:(new Date).getTime(),delta_x:0,is_scrolling:d};a(this).data("swipe-transition",c),b.stopPropagation()}).on("touchmove.fndtn.clearing",".visible-img",function(c){if(c.touches.length>1||c.scale&&c.scale!==1)return;var d=a(this).data("swipe-transition");typeof d=="undefined"&&(d={}),d.delta_x=c.touches[0].pageX-d.start_page_x,typeof d.is_scrolling=="undefined"&&(d.is_scrolling=!!(d.is_scrolling||Math.abs(d.delta_x)<Math.abs(c.touches[0].pageY-d.start_page_y)));if(!d.is_scrolling&&!d.active){c.preventDefault();var e=d.delta_x<0?"next":"prev";d.active=!0,b.nav(c,e)}}).on("touchend.fndtn.clearing",".visible-img",function(b){a(this).data("swipe-transition",{}),b.stopPropagation()})},assemble:function(a){var b=a.parent(),c=this.get_data(b),d=b.detach(),e={grid:'<div class="carousel">'+this.outerHTML(d[0])+"</div>",viewing:c.templates.viewing},f='<div class="clearing-assembled"><div>'+e.viewing+e.grid+"</div></div>";return c.$parent.append(f)},open:function(a,b,c){var d=c.closest(".clearing-assembled"),e=d.find("div").first(),f=e.find(".visible-img"),g=f.find("img").not(a);this.locked()||(g.attr("src",this.load(a)),this.loaded(g,function(){d.addClass("clearing-blackout"),e.addClass("clearing-container"),f.show(),this.fix_height(c).caption(f.find(".clearing-caption"),a).center(g).shift(b,c,function(){c.siblings().removeClass("visible"),c.addClass("visible")})}.bind(this)))},close:function(b,c){b.preventDefault();var d=function(a){return/blackout/.test(a.selector)?a:a.closest(".clearing-blackout")}(a(c)),e,f;return c===b.target&&d&&(e=d.find("div").first(),f=e.find(".visible-img"),this.settings.prev_index=0,d.find("ul[data-clearing]").attr("style","").closest(".clearing-blackout").removeClass("clearing-blackout"),e.removeClass("clearing-container"),f.hide()),!1},keydown:function(b){var c=a(".clearing-blackout").find("ul[data-clearing]");b.which===39&&this.go(c,"next"),b.which===37&&this.go(c,"prev"),b.which===27&&a("a.clearing-close").trigger("click")},nav:function(b,c){var d=a(".clearing-blackout").find("ul[data-clearing]");b.preventDefault(),this.go(d,c)},resize:function(){var b=a(".clearing-blackout .visible-img").find("img");b.length&&this.center(b)},fix_height:function(b){var c=b.parent().children(),d=this;return c.each(function(){var b=a(this),c=b.find("img");b.height()>d.outerHeight(c)&&b.addClass("fix-height")}).closest("ul").width(c.length*100+"%"),this},update_paddles:function(a){var b=a.closest(".carousel").siblings(".visible-img");a.next().length?b.find(".clearing-main-right").removeClass("disabled"):b.find(".clearing-main-right").addClass("disabled"),a.prev().length?b.find(".clearing-main-left").removeClass("disabled"):b.find(".clearing-main-left").addClass("disabled")},center:function(a){return a.css({marginLeft:-(this.outerWidth(a)/2),marginTop:-(this.outerHeight(a)/2)}),this},load:function(a){var b=a.parent().attr("href");return this.preload(a),b?b:a.attr("src")},preload:function(a){this.img(a.closest("li").next()).img(a.closest("li").prev())},loaded:function(a,b){function c(){b()}function d(){this.one("load",c);if(/MSIE (\d+\.\d+);/.test(navigator.userAgent)){var a=this.attr("src"),b=a.match(/\?/)?"&":"?";b+="random="+(new Date).getTime(),this.attr("src",a+b)}}if(!a.attr("src")){c();return}this.complete||this.readyState===4?c():d.call(a)},img:function(a){if(a.length){var b=new Image,c=a.find("a");c.length?b.src=c.attr("href"):b.src=a.find("img").attr("src")}return this},caption:function(a,b){var c=b.data("caption");return c?a.text(c).show():a.text("").hide(),this},go:function(a,b){var c=a.find(".visible"),d=c[b]();d.length&&d.find("img").trigger("click",[c,d])},shift:function(a,b,c){var d=b.parent(),e=this.settings.prev_index||b.index(),f=this.direction(d,a,b),g=parseInt(d.css("left"),10),h=this.outerWidth(b),i;b.index()!==e&&!/skip/.test(f)?/left/.test(f)?(this.lock(),d.animate({left:g+h},300,this.unlock())):/right/.test(f)&&(this.lock(),d.animate({left:g-h},300,this.unlock())):/skip/.test(f)&&(i=b.index()-this.settings.up_count,this.lock(),i>0?d.animate({left:-(i*h)},300,this.unlock()):d.animate({left:0},300,this.unlock())),c()},direction:function(b,c,d){var e=b.find("li"),f=this.outerWidth(e)+this.outerWidth(e)/4,g=Math.floor(this.outerWidth(a(".clearing-container"))/f)-1,h=e.index(d),i;return this.settings.up_count=g,this.adjacent(this.settings.prev_index,h)?h>g&&h>this.settings.prev_index?i="right":h>g-1&&h<=this.settings.prev_index?i="left":i=!1:i="skip",this.settings.prev_index=h,i},adjacent:function(a,b){for(var c=b+1;c>=b-1;c--)if(c===a)return!0;return!1},lock:function(){this.settings.locked=!0},unlock:function(){this.settings.locked=!1},locked:function(){return this.settings.locked},outerHTML:function(a){return a.outerHTML||(new XMLSerializer).serializeToString(a)},off:function(){a(this.scope).off(".fndtn.clearing"),a(b).off(".fndtn.clearing"),this.remove_data(),this.settings.init=!1}}}(Foundation.zj,this,this.document),function(a,b,c){function e(a){return a}function f(a){return decodeURIComponent(a.replace(d," "))}var d=/\+/g,g=a.cookie=function(d,h,i){if(h!==c){i=a.extend({},g.defaults,i),h===null&&(i.expires=-1);if(typeof i.expires=="number"){var j=i.expires,k=i.expires=new Date;k.setDate(k.getDate()+j)}return h=g.json?JSON.stringify(h):String(h),b.cookie=[encodeURIComponent(d),"=",g.raw?h:encodeURIComponent(h),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}var l=g.raw?e:f,m=b.cookie.split("; ");for(var n=0,o=m.length;n<o;n++){var p=m[n].split("=");if(l(p.shift())===d){var q=l(p.join("="));return g.json?JSON.parse(q):q}}return null};g.defaults={},a.removeCookie=function(b,c){return a.cookie(b)!==null?(a.cookie(b,null,c),!0):!1}}(Foundation.zj,document),function(a,b,c,d){"use strict",Foundation.libs.forms={name:"forms",version:"4.0.0",settings:{disable_class:"no-custom"},init:function(b,c,d){return this.scope=b||this.scope,typeof c=="object"&&a.extend(!0,this.settings,c),typeof c!="string"?(this.settings.init||this.events(),this.assemble(),this.settings.init):this[c].call(this,d)},assemble:function(){a('form.custom input[type="radio"]').not('[data-customforms="disabled"]').each(this.append_custom_markup),a('form.custom input[type="checkbox"]').not('[data-customforms="disabled"]').each(this.append_custom_markup),a("form.custom select").not('[data-customforms="disabled"]').each(this.append_custom_select)},events:function(){var b=this;a(this.scope).on("click.fndtn.forms","form.custom span.custom.checkbox",function(c){c.preventDefault(),c.stopPropagation(),b.toggle_checkbox(a(this))}).on("click.fndtn.forms","form.custom span.custom.radio",function(c){c.preventDefault(),c.stopPropagation(),b.toggle_radio(a(this))}).on("change.fndtn.forms",'form.custom select:not([data-customforms="disabled"])',function(c){b.refresh_custom_select(a(this))}).on("click.fndtn.forms","form.custom label",function(c){var d=a("#"+b.escape(a(this).attr("for"))+':not([data-customforms="disabled"])'),e,f;d.length!==0&&(d.attr("type")==="checkbox"?(c.preventDefault(),e=a(this).find("span.custom.checkbox"),e.length==0&&(e=a(this).next("span.custom.checkbox")),e.length==0&&(e=a(this).prev("span.custom.checkbox")),b.toggle_checkbox(e)):d.attr("type")==="radio"&&(c.preventDefault(),f=a(this).find("span.custom.radio"),f.length==0&&(f=a(this).next("span.custom.radio")),f.length==0&&(f=a(this).prev("span.custom.radio")),b.toggle_radio(f)))}).on("click.fndtn.forms","form.custom div.custom.dropdown a.current, form.custom div.custom.dropdown a.selector",function(c){var d=a(this),e=d.closest("div.custom.dropdown"),f=e.prev();e.hasClass("open")||a(b.scope).trigger("click"),c.preventDefault();if(!1===f.is(":disabled"))return e.toggleClass("open"),e.hasClass("open")?a(b.scope).on("click.fndtn.forms.customdropdown",function(){e.removeClass("open"),a(b.scope).off(".fndtn.forms.customdropdown")}):a(b.scope).on(".fndtn.forms.customdropdown"),!1}).on("click.fndtn.forms touchend.fndtn.forms","form.custom div.custom.dropdown li",function(b){var c=a(this),d=c.closest("div.custom.dropdown"),e=d.prev(),f=0;b.preventDefault(),b.stopPropagation();if(!a(this).hasClass("disabled")){a("div.dropdown").not(d).removeClass("open");var g=c.closest("ul").find("li.selected");g.removeClass("selected"),c.addClass("selected"),d.removeClass("open").find("a.current").html(c.html()),c.closest("ul").find("li").each(function(a){c[0]==this&&(f=a)}),e[0].selectedIndex=f,e.data("prevalue",g.html()),e.trigger("change")}}),this.settings.init=!0},append_custom_markup:function(b,c){var d=a(c).hide(),e=d.attr("type"),f=d.next("span.custom."+e);f.length===0&&(f=a('<span class="custom '+e+'"></span>').insertAfter(d)),f.toggleClass("checked",d.is(":checked")),f.toggleClass("disabled",d.is(":disabled"))},append_custom_select:function(b,c){var d=Foundation.libs.forms,e=a(c),f=e.next("div.custom.dropdown"),g=f.find("ul"),h=f.find(".current"),i=f.find(".selector"),j=e.find("option"),k=j.filter(":selected"),l=0,m="",n,o=!1;if(e.hasClass(d.settings.disable_class))return;if(f.length===0){var p=e.hasClass("small")?"small":e.hasClass("medium")?"medium":e.hasClass("large")?"large":e.hasClass("expand")?"expand":"";f=a('<div class="'+["custom","dropdown",p].join(" ")+'"><a href="#" class="selector"></a><ul /></div>'),i=f.find(".selector"),g=f.find("ul"),m=j.map(function(){return"<li>"+a(this).html()+"</li>"}).get().join(""),g.append(m),o=f.prepend('<a href="#" class="current">'+k.html()+"</a>").find(".current"),e.after(f).hide()}else m=j.map(function(){return"<li>"+a(this).html()+"</li>"}).get().join(""),g.html("").append(m);f.toggleClass("disabled",e.is(":disabled")),n=g.find("li"),j.each(function(b){this.selected&&(n.eq(b).addClass("selected"),o&&o.html(a(this).html())),a(this).is(":disabled")&&n.eq(b).addClass("disabled")});if(!f.is(".small, .medium, .large, .expand")){f.addClass("open");var d=Foundation.libs.forms;d.hidden_fix.adjust(g),l=d.outerWidth(n)>l?d.outerWidth(n):l,Foundation.libs.forms.hidden_fix.reset(),f.removeClass("open")}},refresh_custom_select:function(b){var c=this,d=0,e=b.next(),f=b.find("option");e.find("ul").html(""),f.each(function(){var b=a("<li>"+a(this).html()+"</li>");e.find("ul").append(b)}),f.each(function(b){this.selected&&(e.find("li").eq(b).addClass("selected"),e.find(".current").html(a(this).html())),a(this).is(":disabled")&&e.find("li").eq(b).addClass("disabled")}),e.removeAttr("style").find("ul").removeAttr("style"),e.find("li").each(function(){e.addClass("open"),c.outerWidth(a(this))>d&&(d=c.outerWidth(a(this))),e.removeClass("open")})},toggle_checkbox:function(a){var b=a.prev(),c=b[0];!1===b.is(":disabled")&&(c.checked=c.checked?!1:!0,a.toggleClass("checked"),b.trigger("change"))},toggle_radio:function(a){var b=a.prev(),c=b.closest("form.custom"),d=b[0];!1===b.is(":disabled")&&(c.find('input[type="radio"][name="'+this.escape(b.attr("name"))+'"]').next().not(a).removeClass("checked"),a.hasClass("checked")||a.toggleClass("checked"),d.checked=a.hasClass("checked"),b.trigger("change"))},escape:function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},hidden_fix:{tmp:[],hidden:null,adjust:function(b){var c=this;c.hidden=b.parents().andSelf().filter(":hidden"),c.hidden.each(function(){var b=a(this);c.tmp.push(b.attr("style")),b.css({visibility:"hidden",display:"block"})})},reset:function(){var b=this;b.hidden.each(function(c){var e=a(this),f=b.tmp[c];f===d?e.removeAttr("style"):e.attr("style",f)}),b.tmp=[],b.hidden=null}},off:function(){a(this.scope).off(".fndtn.forms")}}}(Foundation.zj,this,this.document);